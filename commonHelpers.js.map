{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages (query){\n    \n        const baseUrl = 'https://pixabay.com';\n        const apiKey = '44464847-e125504310873b884f25bab7c';\n        const endPoint = '/api/';\n\n        const params = new URLSearchParams({\n            key: apiKey,\n            q: query.trim(),\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true\n        });\n        return fetch(`${baseUrl}${endPoint}?${params}`) \n          .then((response) => { \n            if(!response.ok) {\n              throw new Error('response.status');\n            }\n            return response.json()\n          \n          })\n}\n\n","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a');\n\nexport function renderGalleryItems(images) {\n    gallery.innerHTML = '';\n    gallery.innerHTML = images.map((image) => `\n        <a class= \"gallery-link\" href=\"${image.largeImageURL}\">\n            <img src=\"${image.webformatURL}\" class=\"gallery-image\" alt=\"${image.tags}\" />\n            <div class=\"info\">\n                <p>Likes: ${image.likes}</p>\n                <p>Views: ${image.views}</p>\n                <p>Comments: ${image.comments}</p>\n                <p>Downloads: ${image.downloads}</p>\n            </div>\n        </a>\n    `).join('');\n    lightbox.refresh();\n}","\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGalleryItems } from './js/render-functions.js';\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\ndocument.querySelector('.form').addEventListener('submit', function(event) {\n    event.preventDefault();\n    const searchInput = document.querySelector('.search-input');\n    const searchQuery = searchInput.value;\n    if (!searchQuery.trim()) {\n        iziToast.error({\n            title: 'Error',\n            message: \"The search query cannot be empty. Please enter a valid query!\",\n        });\n        return; \n    }\n    const loader = document.querySelector('.loader');\n    loader.style.display = 'block';\n    fetchImages(searchQuery.trim())\n    .then(images => {\n        setTimeout(() => {\n            loader.style.display = 'none';\n            searchInput.value = ''; \n        }, 1000); \n        if (!Array.isArray(images.hits) || images.hits.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: \"No images found. Please try a different query!\",\n            });\n            return; \n        }\n        renderGalleryItems(images.hits);\n    })\n    .catch(error => {\n        setTimeout(() => {\n            loader.style.display = 'none';\n            searchInput.value = ''; \n        }, 1000);\n        iziToast.error({\n            title: 'Error',\n            message: \"Failed to load images. Please try again!\",\n        });\n    })\n       \n});\n\n\n\n\n"],"names":["fetchImages","query","baseUrl","apiKey","endPoint","params","response","gallery","lightbox","SimpleLightbox","renderGalleryItems","images","image","event","searchInput","searchQuery","iziToast","loader","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAM,CAE3B,MAAMC,EAAU,sBACVC,EAAS,qCACTC,EAAW,QAEXC,EAAS,IAAI,gBAAgB,CAC/B,IAAKF,EACL,EAAGF,EAAM,KAAM,EACf,WAAY,QACZ,YAAa,aACb,WAAY,EACxB,CAAS,EACD,OAAO,MAAM,GAAGC,CAAO,GAAGE,CAAQ,IAAIC,CAAM,EAAE,EAC3C,KAAMC,GAAa,CAClB,GAAG,CAACA,EAAS,GACX,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAOA,EAAS,KAAM,CAElC,CAAW,CACX,CCjBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,YAAY,EAEzC,SAASC,EAAmBC,EAAQ,CACvCJ,EAAQ,UAAY,GACpBA,EAAQ,UAAYI,EAAO,IAAKC,GAAU;AAAA,yCACLA,EAAM,aAAa;AAAA,wBACpCA,EAAM,YAAY,gCAAgCA,EAAM,IAAI;AAAA;AAAA,4BAExDA,EAAM,KAAK;AAAA,4BACXA,EAAM,KAAK;AAAA,+BACRA,EAAM,QAAQ;AAAA,gCACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAG1C,EAAE,KAAK,EAAE,EACVJ,EAAS,QAAO,CACpB,CCdA,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAU,SAASK,EAAO,CACvEA,EAAM,eAAc,EACpB,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAcD,EAAY,MAChC,GAAI,CAACC,EAAY,OAAQ,CACrBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+DACrB,CAAS,EACD,MACH,CACD,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,QACvBjB,EAAYe,EAAY,MAAM,EAC7B,KAAKJ,GAAU,CAKZ,GAJA,WAAW,IAAM,CACbM,EAAO,MAAM,QAAU,OACvBH,EAAY,MAAQ,EACvB,EAAE,GAAI,EACH,CAAC,MAAM,QAAQH,EAAO,IAAI,GAAKA,EAAO,KAAK,SAAW,EAAG,CACzDK,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACzB,CAAa,EACD,MACH,CACDN,EAAmBC,EAAO,IAAI,CACtC,CAAK,EACA,MAAMO,GAAS,CACZ,WAAW,IAAM,CACbD,EAAO,MAAM,QAAU,OACvBH,EAAY,MAAQ,EACvB,EAAE,GAAI,EACPE,EAAS,MAAM,CACX,MAAO,QACP,QAAS,0CACrB,CAAS,CACT,CAAK,CAEL,CAAC"}